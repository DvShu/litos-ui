var l=Object.defineProperty;var c=(t,e,n)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var a=(t,e,n)=>c(t,typeof e!="symbol"?e+"":e,n);import{i as r}from"./theme.CL4TRBCC.js";import{a as m,$ as o,o as d}from"./dom.DwYf1ZNH.js";import"./framework.CmfdOiHF.js";function u(t){const e=document.createElement("textarea");return e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999",e.setAttribute("readonly",""),e.value=t,e}function f(t){const e=u(t);document.body.append(e),e.focus(),e.select();const n=document.execCommand("copy");return e.remove(),Promise.resolve(n)}function p(t){const e=navigator.clipboard;return e!=null?e.writeText(t).then(()=>{Promise.resolve(!0)}).catch(()=>Promise.resolve(!1)):Promise.resolve(!1)}function h(t){let e=null,n=null;if(typeof t=="string"&&(t.startsWith("#")||t.startsWith(".")?(n=document.querySelector(t),n==null&&(e=t)):e=t),t instanceof HTMLElement&&(n=t),n!=null)if(n.hasAttribute("data-copy-text"))e=n.getAttribute("data-copy-text");else{const s=n.tagName;s==="INPUT"||s==="TEXTAREA"?e=n.value:e=n.textContent}return e}async function y(t){const e=h(t);return e==null?Promise.resolve(!1):await p(e)===!1?f(e):Promise.resolve(!0)}class x extends HTMLElement{constructor(){super();a(this,"handleItemClick");this.handleItemClick=this._handleItemClick.bind(this)}connectedCallback(){const n=[];for(const s of r)n.push(`<div class="icon-item" data-name="${s.tagName}"><${s.tagName} class="icon"></${s.tagName}><span class="name">${s.name}</span></div>`);this.innerHTML=`<div class="icon-list">${n.join("")}</div>`,this._initEvents()}_initEvents(){m(o(".icon-list",this),"click",this.handleItemClick,{eventFlag:"data-name"})}disconnectedCallback(){d(o(".icon-list",this),"click",this.handleItemClick)}_handleItemClick(n,s,i){i&&(y(`<${i}></${i}>`).then(),LMessage.success("复制成功"))}}export{x as default};
