var l=Object.defineProperty;var c=(t,e,n)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var a=(t,e,n)=>c(t,typeof e!="symbol"?e+"":e,n);import{i as r}from"./theme.Cucpzc73.js";import{o as m,$ as o,a as d,s as f}from"./dom.BOKvBN-7.js";import{M as u}from"./index.Cugje24-.js";import"./framework.BCyZWppQ.js";import"./index.DCtgrrjC.js";import"./index.DZ7iFm8i.js";import"./info.BhPFqlOn.js";function p(t){const e=document.createElement("textarea");return e.style.border="0",e.style.padding="0",e.style.margin="0",e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999",e.setAttribute("readonly",""),e.value=t,e}function h(t){const e=p(t);document.body.append(e),e.focus(),e.select();const n=document.execCommand("copy");return e.remove(),Promise.resolve(n)}function y(t){const e=navigator.clipboard;return e!=null?e.writeText(t).then(()=>{Promise.resolve(!0)}).catch(()=>Promise.resolve(!1)):Promise.resolve(!1)}function v(t){let e=null,n=null;if(typeof t=="string"&&(t.startsWith("#")||t.startsWith(".")?(n=document.querySelector(t),n==null&&(e=t)):e=t),t instanceof HTMLElement&&(n=t),n!=null)if(n.hasAttribute("data-copy-text"))e=n.getAttribute("data-copy-text");else{const s=n.tagName;s==="INPUT"||s==="TEXTAREA"?e=n.value:e=n.textContent}return e}async function C(t){const e=v(t);return e==null?Promise.resolve(!1):await y(e)===!1?h(e):Promise.resolve(!0)}class N extends HTMLElement{constructor(){super();a(this,"handleItemClick");this.handleItemClick=this._handleItemClick.bind(this)}connectedCallback(){const n=[];for(const s of r)n.push(`<div class="icon-item" data-name="${s.tagName}"><${s.tagName} class="icon"></${s.tagName}><span class="name">${s.name}</span></div>`);this.innerHTML=`<div class="icon-list">${n.join("")}</div>`,this._initEvents()}_initEvents(){m(o(".icon-list",this),"click",this.handleItemClick)}disconnectedCallback(){d(o(".icon-list",this),"click",this.handleItemClick)}_handleItemClick(n){const[s,i]=f(n,"data-name");s&&(C(`<${i}></${i}>`).then(),u.success("复制成功"))}}export{N as default};
