import{$ as C,l as $,g as s,m as a,o as c,a as f,r as v}from"./dom.BOGGfM8s.js";const D=g=>{let o,e,i;function w(l){l.code==="Escape"&&(l.preventDefault(),n())}function h(l){o.isSameNode(l.target)&&i&&i.maskClosable&&n()}function p(l){const t=l.detail.action;i.onAction!=null&&i.onAction(t,n)}function u(l){if(!i){let t={escClose:!0,verticalAlign:"top",maskClosable:!0,showClose:1,...l};if(o=C(l.el),o){$(o,"l-dialog")||s(o,"l-dialog"),e=C("l-dialog-container",o);const r=a(o,"vertical-align");t.verticalAlign=r||"top",s(o,`l-dialog--vertical-${t.verticalAlign}`);const m=a(o,"translate")||t.translate;m&&o.style.setProperty("--l-dialog-translate",`translate3d(${m})`);const A=a(o,"width")||t.width;A&&o.style.setProperty("--l-dialog-width",A);const d=a(o,"show-close",1);d===2&&s(o,"l-dialog-close-outside"),e&&e.setAttribute("show-close",`${d}`),t.showClose=d,c(o,"keydown",w),c(o,"click",h),e&&c(e,"dialogAction",p)}i=t}}function b(){o&&(o.showModal(),s(o,"l-dialog--open"),s(document.body,"l-body--dialog-open"))}function n(){o&&$(o,"l-dialog--open")&&(c(o,"transitionend",()=>{o.close(),v(document.body,"l-body--dialog-open")},{once:!0}),v(o,"l-dialog--open"))}function P(){o&&(n(),f(o,"keydown",w),f(o,"click",h),e&&f(e,"dialogAction",p),e=void 0,o=void 0)}function y(l,t){if(i&&(i[l]=t,o))if(l==="verticalAlign"){const r=o.className.replace(/l-dialog--vertical-\w+/g,function(){return`l-dialog--vertical-${t||"top"}`});o.className=r}else l==="translate"?t?o.style.setProperty("--l-dialog-translate",`translate3d(${t})`):o.style.removeProperty("--l-dialog-translate"):l==="width"?t?o.style.setProperty("--l-dialog-width",t):o.style.removeProperty("--l-dialog-width"):l==="showClose"&&e&&e.setAttribute("show-close",`${t}`)}function k(l){for(const t in l)y(t,l[t])}return g!=null&&u(g),{init:u,open:b,close:n,destroy:P,setProp:y,setProps:k}};export{D};
