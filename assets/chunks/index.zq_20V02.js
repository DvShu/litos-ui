import{$ as C,h as $,g as s,j as a,o as c,a as f,r as v}from"./dom.CgJDYxOB.js";const D=g=>{let o,l,i;function h(e){e.code==="Escape"&&(e.preventDefault(),n())}function w(e){o.isSameNode(e.target)&&i&&i.maskClosable&&n()}function p(e){const t=e.detail.action;i.onAction!=null&&i.onAction(t,n)}function u(e){if(!i){let t={escClose:!0,verticalAlign:"top",maskClosable:!0,showClose:1,...e};if(o=C(e.el),o){$(o,"l-dialog")||s(o,"l-dialog"),l=C("l-dialog-container",o);const r=a(o,"vertical-align");t.verticalAlign=r||"top",s(o,`l-dialog--vertical-${t.verticalAlign}`);const m=a(o,"translate")||t.translate;m&&o.style.setProperty("--l-dialog-translate",`translate3d(${m})`);const A=a(o,"width")||t.width;A&&o.style.setProperty("--l-dialog-width",A);const d=a(o,"show-close",1);d===2&&s(o,"l-dialog-close-outside"),l&&l.setAttribute("show-close",`${d}`),t.showClose=d,c(o,"keydown",h),c(o,"click",w),l&&c(l,"dialogAction",p)}i=t}}function b(){o&&(o.showModal(),s(o,"l-dialog--open"),s(document.body,"l-body--dialog-open"))}function n(){o&&$(o,"l-dialog--open")&&(c(o,"transitionend",()=>{o.close(),v(document.body,"l-body--dialog-open")},{once:!0}),v(o,"l-dialog--open"))}function P(){o&&(n(),f(o,"keydown",h),f(o,"click",w),l&&f(l,"dialogAction",p),l=void 0,o=void 0)}function y(e,t){if(i&&(i[e]=t,o))if(e==="verticalAlign"){const r=o.className.replace(/l-dialog--vertical-\w+/g,function(){return`l-dialog--vertical-${t||"top"}`});o.className=r}else e==="translate"?t?o.style.setProperty("--l-dialog-translate",`translate3d(${t})`):o.style.removeProperty("--l-dialog-translate"):e==="width"?t?o.style.setProperty("--l-dialog-width",t):o.style.removeProperty("--l-dialog-width"):e==="showClose"&&l&&l.setAttribute("show-close",`${t}`)}function k(e){for(const t in e)y(t,e[t])}return g!=null&&u(g),{init:u,open:b,close:n,destroy:P,setProp:y,setProps:k}};export{D};
